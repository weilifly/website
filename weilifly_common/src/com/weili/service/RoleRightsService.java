package com.weili.service;import java.sql.Connection;import java.sql.SQLException;import java.util.ArrayList;import java.util.List;import java.util.Map;import org.apache.commons.logging.Log;import org.apache.commons.logging.LogFactory;import com.shove.base.BaseService;import com.shove.data.DataException;import com.weili.dao.RoleRightsDao;public class RoleRightsService extends BaseService {		public static Log log = LogFactory.getLog(RoleRightsService.class);	private RoleRightsDao roleRightsDao;		/**	 * 根据角色编号查询角色权限信息	 * @param roleId 角色编号	 * @return	 * @throws DataException	 * @throws SQLException	 */	public List<Map<String,Object>> queryRoleRightByRoleId(long roleId) throws DataException, SQLException{		Connection conn = connectionManager.getConnection();		List<Map<String,Object>> list = new ArrayList<Map<String,Object>>();		try{			list = roleRightsDao.queryRoleRightByRoleId(conn, roleId);		} catch (SQLException e) {			log.error(e);			e.printStackTrace();			throw e;		} catch (DataException e) {			log.error(e);			e.printStackTrace();			throw e;		}finally{			conn.close();		}		return list;	}	/**	 * 根据角色编号查询角色权限信息	 * @param roleId 角色编号	 * @return	 * @throws DataException	 * @throws SQLException	 */	public List<Map<String,Object>> queryRoleRightsIdByRoleId(long roleId) throws DataException, SQLException{		Connection conn = connectionManager.getConnection();		List<Map<String,Object>> list = new ArrayList<Map<String,Object>>();		try{			list = roleRightsDao.queryRoleRightsIdByRoleId(conn, roleId);		} catch (SQLException e) {			log.error(e);			e.printStackTrace();			throw e;		} catch (DataException e) {			log.error(e);			e.printStackTrace();			throw e;		}finally{			conn.close();		}		return list;	}		/**	 * 根据角色编号查询管理员角色权限信息	 * @param roleId 角色编号	 * @return	 * @throws SQLException 	 * @throws DataException 	 */	public List<Map<String,Object>> queryAdminRoleRightMenu(long roleId) throws SQLException, DataException{		Connection conn = connectionManager.getConnection();		List<Map<String,Object>> list = new ArrayList<Map<String,Object>>();		try{			list = roleRightsDao.queryAdminRoleRightMenu(conn, roleId);		} catch (SQLException e) {			log.error(e);			e.printStackTrace();			throw e;		} catch (DataException e) {			log.error(e);			e.printStackTrace();			throw e;		}finally{			conn.close();		}		return list;	}			public void setRoleRightsDao(RoleRightsDao roleRightsDao) {		this.roleRightsDao = roleRightsDao;	}}